
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Support to required usage patterns &#8212; EUMETSAT FCIDECOMP - Solution design  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Packaging and deployment" href="packaging_and_deployment.html" />
    <link rel="prev" title="Creation of canonical repository" href="canonical_repository.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="support-to-required-usage-patterns">
<h1>Support to required usage patterns<a class="headerlink" href="#support-to-required-usage-patterns" title="Permalink to this headline">¶</a></h1>
<p><strong>[NOTA: da qualche parte (forse qui?) non andrebbe menzionato il fatto che il software supporterà CharLS 1.0, mettendo
in :ref:`further_developments` che si prevede di provare a supportare anche il 2.0? Non dovremmo anche dire COME
integriamo CharLS 1.0, i.e. src integrato, clone from github (come faccio ora), ecc. Su questo non abbiamo preso una
decisione.]</strong></p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This section describes the strategies adopted to ensure that the FCIDECOMP software supports the required usage
patterns.</p>
<p><strong>[NOTA: questo l’ho spostato qui da Packaging and deployment]</strong></p>
<p>As a baseline, the FCIDEOCOMP software supports HDF5 1.10. Strategies to grant support for multiple versions of HDF5
described in <a class="reference internal" href="a_further_developments.html#further-developments"><span class="std std-ref">Appendix - Further developments</span></a>.</p>
</section>
<section id="integration-with-tools-based-on-netcdf-c">
<span id="integration-with-netcdf-c"></span><h2>Integration with tools based on netCDF-C<a class="headerlink" href="#integration-with-tools-based-on-netcdf-c" title="Permalink to this headline">¶</a></h2>
<p><strong>[NOTA: mi sembra che questa parte stia meglio in un ulteriore sottoparagrafo invece che nell’intro,
ma se non sei d’accordo la sposto su e tolgo questo paragrafo]</strong></p>
<p>The current implementation of the FCIDECOMP software (<a class="reference internal" href="introduction.html#fcidecomp-latest"><span class="std std-ref">v1.0.2</span></a>) which, as mentioned in the
<a class="reference internal" href="canonical_repository.html#repository-initialization"><span class="std std-ref">Repository initialization</span></a> paragraph serves as blueprint for the software codebase,
already satisfies the HDF5 filters interface. Given this, integration with utilities relying on the <code class="docutils literal notranslate"><span class="pre">netcdf-c</span></code>
library (<a class="reference internal" href="introduction.html#netcdf-c"><span class="std std-ref">[NETCDF-C]</span></a>) is ensured, provided that:</p>
<ul class="simple">
<li><p>the location of the FCIDECOMP filter library is specified in a specific environment variable, <code class="docutils literal notranslate"><span class="pre">HDF5_PLUGIN_PATH</span></code>;</p></li>
<li><p>the correct filter id (32018 for FCIDECOMP), if required by the utility, is specified;</p></li>
</ul>
</section>
<section id="usage-as-cli-tool">
<span id="id1"></span><h2>Usage as CLI tool<a class="headerlink" href="#usage-as-cli-tool" title="Permalink to this headline">¶</a></h2>
<p>In order to provide a baseline support for CLI usage of the FCIDECOMP software, <code class="docutils literal notranslate"><span class="pre">nccopy</span></code> (software utility of the
<code class="docutils literal notranslate"><span class="pre">netcdf-c</span></code> library) is chosen as reference standard CLI tool. To foster integration with <code class="docutils literal notranslate"><span class="pre">nccopy</span></code>, the FCIDECOMP
software provides to:</p>
<ul class="simple">
<li><p>put the filter’s library to a specific path at installation</p></li>
<li><p>have the <code class="docutils literal notranslate"><span class="pre">HDF5_PLUGIN_PATH</span></code> environment variable automatically set each time a conda environment where FCIDECOMP is installed get activated</p></li>
</ul>
<p>The FCIDECOMP software documentation also provides instructions on how to call <code class="docutils literal notranslate"><span class="pre">nccopy</span></code> to decompress files using the
FCIDECOMP filter.</p>
</section>
<section id="integration-with-python">
<h2>Integration with Python<a class="headerlink" href="#integration-with-python" title="Permalink to this headline">¶</a></h2>
<p>Integration with Python is provided by a small Python package developed ad hoc, which satisfies the required <code class="docutils literal notranslate"><span class="pre">h5py</span></code>
interface to make the FCIDECOMP filter available for Python applications. Such package, based upon a stripped-down
version of the <a class="reference internal" href="introduction.html#hdf5plugin"><span class="std std-ref">hdf5plugin package</span></a>, is essentially composed of an <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> defining the
filter interface to <code class="docutils literal notranslate"><span class="pre">h5py</span></code>.</p>
<p>See <a class="reference internal" href="a_integration_with_hdf5plugin.html#integration-with-hdf5plugin"><span class="std std-ref">Appendix - Integration with hdf5plugin</span></a> for details on the integration with the widely used <code class="docutils literal notranslate"><span class="pre">hdf5plugin</span></code> package and
interaction with its maintainers’ community.</p>
</section>
<section id="integration-with-eumetsat-data-tailor">
<span id="integration-with-data-tailor"></span><h2>Integration with EUMETSAT Data Tailor<a class="headerlink" href="#integration-with-eumetsat-data-tailor" title="Permalink to this headline">¶</a></h2>
<p>At the moment, the Data Tailor supports reading compressed FCI L1C products through the optional
<code class="docutils literal notranslate"><span class="pre">epct_plugin_mtg4africa</span></code> <a class="reference internal" href="introduction.html#mtg4africa"><span class="std std-ref">customisation plugin</span></a>, which in turns install FCIDECOMP by installing
with <code class="docutils literal notranslate"><span class="pre">pip</span></code> the <code class="docutils literal notranslate"><span class="pre">hdf5plugin</span></code> package.</p>
<p>The approach to integrate the described solution with the Data Tailor includes a revision of the current
build and installation approach for the <code class="docutils literal notranslate"><span class="pre">epct_plugin_mtg4africa</span></code> customisation plugin, so that it
installs the FCIDECOMP support through the Python package described above and its dependencies.</p>
</section>
<section id="integration-with-tools-based-on-netcdf-java">
<span id="integration-with-netcdf-java"></span><h2>Integration with tools based on netCDF-Java<a class="headerlink" href="#integration-with-tools-based-on-netcdf-java" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="introduction.html#panoply"><span class="std std-ref">Panoply</span></a> and <a class="reference internal" href="introduction.html#hdfview"><span class="std std-ref">HDFView</span></a> have been identified as the key software based on netCDF-Java
to support. The integration of the FCIDECOMP software in these applications can be achieved by instructing them
to use the netCDF-C library (instead of netCDF-Java) to read netCDF files
(see related <a class="reference internal" href="introduction.html#netcdf-java-github"><span class="std std-ref">github issue</span></a>). Support is then granted by describing the aforementioned
procedure in the FCIDECOMP software documentation.</p>
<p>The issue of a generic integration with <a class="reference internal" href="introduction.html#netcdf-java"><span class="std std-ref">Unidata Netcdf-Java</span></a> is discussed in
<a class="reference internal" href="a_design_justifications.html#design-justifications"><span class="std std-ref">Appendix - Design justifications</span></a>.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/eumetsat.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">EUMETSAT FCIDECOMP - Solution design</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="document_info.html">Document Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="canonical_repository.html">Creation of canonical repository</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Support to required usage patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#integration-with-tools-based-on-netcdf-c">Integration with tools based on netCDF-C</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-as-cli-tool">Usage as CLI tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="#integration-with-python">Integration with Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#integration-with-eumetsat-data-tailor">Integration with EUMETSAT Data Tailor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#integration-with-tools-based-on-netcdf-java">Integration with tools based on netCDF-Java</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="packaging_and_deployment.html">Packaging and deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_requirement_trace.html">Appendix - Requirement Trace</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_users_using_fcidecomp.html">Appendix - List of users and developers currently using FCIDECOMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_design_justifications.html">Appendix - Design justifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_preservation_of_dependencies.html">Appendix - Long-term preservation of dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="a_integration_with_hdf5plugin.html">Appendix - Integration with <code class="docutils literal notranslate"><span class="pre">hdf5plugin</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="a_further_developments.html">Appendix - Further developments</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="canonical_repository.html" title="previous chapter">Creation of canonical repository</a></li>
      <li>Next: <a href="packaging_and_deployment.html" title="next chapter">Packaging and deployment</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, European Organisation for the Exploitation of Meteorological Satellites (EUMETSAT).
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/support_to_usage_patterns.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>